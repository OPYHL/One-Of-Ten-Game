<!doctype html>
<html lang="pl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>1 z 10 — Operator</title>
    <link rel="stylesheet" href="/css/base.css" />
</head>
<body>
<div class="wrap">
    <div class="card row" style="justify-content:space-between; gap:8px">
        <div class="row" style="gap:8px">
            <button id="btnBuzzStart">Buzzery (start)</button>
            <button id="btnHostStart">Start rundy</button>
            <button id="btnReadDone">Przeczytałem</button>
            <button id="btnIntro">Intro</button>
            <button id="btnStartQ">Start pytania</button>
            <button id="btnBoom">Boom/Cisza</button>
            <button id="btnSave">Zapisz wyniki</button>
            <button id="btnReset">Reset</button>
            <button id="btnResetQuestions">Reset pytań</button>
            <button id="btnNewGame">Nowa gra</button>
        </div>
        <div class="row">
            <span class="badge" id="ph">Faza: —</span>
            <span class="badge" id="ti">Timer: 0.0s</span>
        </div>
    </div>

    <div class="card" id="timerCard">
        <div class="row" style="justify-content:space-between; align-items:center; gap:16px">
            <div>
                <h3 style="margin:0">Limit czasu odpowiedzi</h3>
                <div class="mini" id="answerHint">Zakres: —</div>
            </div>
            <div class="badge" id="answerValue">10 s</div>
        </div>
        <input type="range" id="answerSlider" min="3" max="15" step="1" value="10" style="width:100%; margin-top:12px">
    </div>

    <div class="card">
        <div class="row" style="justify-content:space-between; flex-wrap:wrap; gap:12px">
            <div><b>Aktualny odpowiadający:</b> <span id="who">—</span></div>
            <div><b>Aktualny wybierający:</b> <span id="chooser">—</span></div>
            <div><b>Reakcja:</b> <span id="reaction">—</span></div>
        </div>
        <div class="progressWrap" style="position:relative; top:auto; left:auto; right:auto; bottom:auto; margin-top:8px">
            <div id="pb" class="progressBar"></div>
        </div>
        <div class="mini" id="answerMini">W ANSWERING pasek pokazuje upływ 10 s. W BUZZING czekamy na „Znam odpowiedź!”.</div>
    </div>

    <div class="card">
        <h3 style="margin-top:0">Awaryjne sterowanie</h3>
        <div class="row" style="gap:8px; flex-wrap:wrap; align-items:flex-end">
            <label class="mini" style="display:flex; flex-direction:column; gap:4px">
                Wybierający
                <select id="chooserSelect" class="input" style="min-width:160px">
                    <option value="">— wybierz —</option>
                </select>
            </label>
            <label class="mini" style="display:flex; align-items:center; gap:6px">
                <input type="checkbox" id="chooserNotify" checked>
                Wyślij SELECT_START
            </label>
            <button id="btnSetChooser">Ustaw wybierającego</button>
            <button id="btnClearChooser">Wyczyść</button>
        </div>
        <div class="mini" style="margin-top:12px">Ręczne zdarzenie (wysyłane na wszystkie urządzenia)</div>
        <div class="row" style="gap:8px; flex-wrap:wrap; margin-top:6px">
            <input id="manualEventType" class="input" type="text" placeholder="Typ zdarzenia" style="min-width:140px">
            <input id="manualEventPlayer" class="input" type="number" min="1" placeholder="ID gracza" style="width:120px">
            <input id="manualEventValue" class="input" type="text" placeholder="Wartość" style="min-width:160px">
            <input id="manualEventReaction" class="input" type="number" min="0" placeholder="Czas reakcji (ms)" style="width:140px">
            <button id="btnManualEvent">Wyślij zdarzenie</button>
        </div>
    </div>

    <div id="grid" class="grid" style="grid-template-columns:repeat(5,1fr)"></div>
    <div id="approveBackdrop" class="modalBackdrop">
        <div class="modal">
            <h3>Akceptacja wyboru</h3>
            <div id="approveText" style="margin-bottom:10px">—</div>
            <div class="row">
                <button id="btnReject">Odrzuć</button>
                <button id="btnApprove" style="background:var(--ok); color:#06210f">Akceptuj</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
<script type="module" src="/js/operator.js"></script>
</body>
</html>
