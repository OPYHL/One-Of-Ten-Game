/* ===================== RESET / BASE ===================== */
:root{
  --bg: #0b1220;
  --panel: #0f1729;
  --panel2:#0c1426;
  --line: #22324d;
  --text: #e7f0ff;
  --muted:#9cb2d9;
  --accent:#3b6df6;
  --ok:#20c997;
  --bad:#ff4757;

  /* siatka graczy */
  --grid-gap-x: 18px;
  --grid-gap-y: 18px;

  /* karta gracza – w/ h liczone też w JS */
  --w: 320px;
  --h: 190px; /* niższa baza */
}

*{ box-sizing:border-box }
html,body{ height:100% }
html{
  background:
    radial-gradient(1200px 1200px at 50% 140%, rgba(22,38,70,.45) 0%, rgba(11,18,32,0) 65%),
    var(--bg);
}
body{
  margin:0; color:var(--text);
  font:600 16px/1.25 Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  letter-spacing:.2px;
}
img{ max-width:100%; display:block }
.hidden{ display:none !important }

/* ======================== HUD ========================= */
#hud{
  position:fixed; inset:12px 12px auto 12px; display:flex; align-items:center; gap:16px; z-index:40;
}
.hud-left,.hud-right{ display:flex; align-items:center; gap:8px }
.hud-center{ flex:1; display:flex; justify-content:center }
.pill{
  display:inline-flex; gap:8px; align-items:center; padding:7px 10px;
  background:linear-gradient(180deg, #0f1830 0%, #0e1628 100%);
  border:1px solid #1c2a44; border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,.28);
  transform-origin:50% 50%;
}
.pill .k{ color:#a9bce1; font-weight:700; opacity:.9; margin-right:6px }
.pill .v{ background:#0b1324; border:1px solid #1a2942; border-radius:10px; padding:3px 8px; min-width:22px; text-align:center }
.pill.phase .v{ background:#14203a; color:#d7e6ff; border-color:#213358 }
.pill.bump{ animation: hudBump .34s ease }
@keyframes hudBump{ 50%{ transform:scale(1.08) } }

/* --------- baner (komunikaty nad siatką) ---------- */
.banner{
  transform:translateY(-16px);
  min-width:min(980px,76vw);
  padding:12px 16px; border-radius:14px;
  background:linear-gradient(180deg,#101a31 0%, #0f172b 100%);
  border:1px solid #213358; color:#dbe7ff;
  box-shadow:0 18px 60px rgba(0,0,0,.40), inset 0 1px 0 rgba(255,255,255,.02);
  opacity:0; pointer-events:none; transition:opacity .18s ease, transform .18s ease;
}
.banner.show{ opacity:1; transform:none }

/* ===================== SCENA (center) ===================== */
#stage{
  position:fixed; inset:130px 0 250px; display:grid; place-items:center; z-index:30; pointer-events:none;
  opacity:0; transform:translateY(8px); transition:opacity .25s ease, transform .25s ease;
}
#stage.show{ opacity:1; transform:none }
#stage .card{
  width:min(1280px,84vw); min-height:230px;
  background:linear-gradient(180deg, #0f182c, #0e1727);
  border:1px solid #213358; border-radius:18px;
  box-shadow:0 30px 120px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.03);
  padding:22px 26px; display:grid; grid-template-columns:128px 1fr 64px; align-items:center; gap:22px;
  pointer-events:auto;
}
#stage .avatar.big{
  width:128px; height:128px; border-radius:14px; border:1px solid #22324d;
  background:radial-gradient(120px 90px at 50% 30%, #16223d, #0e1728);
  display:grid; place-items:center
}
#stage .avatar.big img{ width:96px; height:96px; object-fit:contain; filter:drop-shadow(0 10px 26px rgba(0,0,0,.45)) }
#stage .meta{ display:flex; flex-direction:column; align-items:center; justify-content:center }
#stage .meta .name{ font-size:42px; font-weight:900; letter-spacing:.5px; text-align:center }
#stage .meta .seat{ margin-top:8px; color:#a9bce1; font-weight:800; text-align:center }
#stage .countdown{
  width:56px; height:56px; border-radius:50%; display:grid; place-items:center;
  border:1px solid #23324d; background:rgba(17,27,45,.65); font-weight:900; font-size:20px; color:#e6eeff;
  box-shadow:0 10px 30px rgba(0,0,0,.35)
}
#stage .judge{
  position:absolute; inset:auto 22px 18px auto; font-weight:900; font-size:38px; opacity:0; transform:scale(.9);
  transition:opacity .22s ease, transform .22s ease;
}
#stage .judge.show{ opacity:1; transform:none }
#stage .judge.good{ color:#1fdf9e }
#stage .judge.bad{ color:#ff5b6b }

/* ===================== CENTER-CARD (info & buzzing) ===================== */
#centerBox{
  position:fixed; inset:0; display:grid; place-items:center; z-index:26; pointer-events:none;
  opacity:0; transform:translateY(6px); transition:opacity .22s ease, transform .22s ease;
}
#centerBox.show{ opacity:1; transform:none }
.centerCard{
  pointer-events:auto;
  width:min(1100px,86vw);
  min-height:120px;
  background:linear-gradient(180deg,#101a31,#0f1629);
  border:1px solid #213358; border-radius:18px; padding:22px 26px;
  display:grid; grid-template-columns:88px 1fr; gap:16px; align-items:center;
  box-shadow:0 26px 100px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.03);
}
.centerCard .hostAv{ width:88px; height:88px; border-radius:14px; border:1px solid #22324d; background:#0e1628; display:grid; place-items:center }
.centerCard .hostAv img{ width:68px; height:68px; object-fit:contain; opacity:.92 }
.centerCard .title{ margin:0; font:900 28px/1.15 Inter,system-ui,sans-serif; color:#e6eeff }
.centerCard .subtitle{ margin-top:8px; color:#9cb2d9; font-weight:700 }
.centerCard.buzz{ animation:glow 1.2s ease infinite alternate }
.centerCard.xl{ min-height:160px }
.centerCard.xl .title{ font-size:34px }
.centerCard.xl .subtitle{ font-size:18px }
@keyframes glow{
  from{ box-shadow:0 26px 100px rgba(0,0,0,.55), 0 0 0 rgba(59,109,246,.0) inset }
  to  { box-shadow:0 26px 100px rgba(0,0,0,.55), 0 0 24px rgba(59,109,246,.25) inset }
}

/* ==================== SIATKA GRACZY ==================== */
#gridWrap{
  position:fixed; inset:auto 0 18px; padding:14px 24px 0; z-index:20;
  background:linear-gradient(180deg, rgba(10,18,31,0) 0%, rgba(10,18,31,.55) 26%, rgba(10,18,31,.82) 86%);
}
#grid{
  transform-origin:50% 100%;
  transform:scale(var(--scale,1));
  display:grid; gap:24px; justify-items:center; align-items:end;
}
.row{ display:grid; gap:var(--grid-gap-y) var(--grid-gap-x); justify-content:center }
.row.top{ margin-bottom:var(--grid-gap-y) }

.card{
  width:var(--w); height:var(--h); position:relative;
  background:linear-gradient(180deg, #0f182d 0%, #0f1727 100%);
  border:1px solid #20314d; border-radius:18px;
  box-shadow:0 18px 70px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.02);
  padding:16px 16px 18px; overflow:hidden;
  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease, background .18s ease;
}
.card.answering{ border-color:#2b58ff; box-shadow:0 26px 110px rgba(43,88,255,.26), 0 16px 60px rgba(0,0,0,.45) }
.card.cardJoin{ animation:cardIn .35s ease }
@keyframes cardIn{ from{ transform:translateY(12px) scale(.98); opacity:.0 } to{ transform:none; opacity:1 } }

.card .seat{
  position:absolute; left:12px; top:12px; width:46px; height:46px; display:grid; place-items:center;
  border-radius:50%; border:1px solid #23324d; color:#e8f1ff; background:rgba(20,30,50,.6);
  font-weight:900; text-shadow:0 1px 0 rgba(0,0,0,.25)
}
.card .name{ text-align:center; font:900 20px/1.1 Inter,system-ui,sans-serif; letter-spacing:.4px; margin-top:0 }

.card .avatar{ position:absolute; left:0; right:0; top:54px; bottom:54px; display:grid; place-items:center; pointer-events:none }
.card .avatar img{ width:min(66%, 220px); height:100%; object-fit:contain; filter:drop-shadow(0 12px 34px rgba(0,0,0,.45)); opacity:.98 }

.livesBox{
  position:absolute; right:14px; bottom:12px; display:flex; gap:12px; align-items:center
}
.heart{ width:26px; height:26px; fill:#ff4757; filter:drop-shadow(0 4px 10px rgba(255,71,87,.25)) }
.heart.dead{ opacity:.28; filter:none }

.ptsBox{
  position:absolute; left:12px; bottom:10px; display:flex; align-items:center; gap:10px;
  background:rgba(12,22,41,.6); border:1px solid #20314d; padding:6px 10px; border-radius:12px;
}
.ptsBox .medal{ width:20px; height:20px; display:grid; place-items:center }
.ptsBox .medal svg{ width:20px; height:20px; fill:#ffcc4d; filter:drop-shadow(0 3px 10px rgba(255,204,77,.4)) }
.ptsBox .value{ font:900 16px/1 Inter,system-ui,sans-serif; color:#eaf2ff }
.ptsBox .value.scoreBump{ animation:scoreBump .45s ease }
@keyframes scoreBump{ 50%{ transform:scale(1.22) } }

/* ==================== PASEK CZASU – FULL WIDTH ==================== */
#timebarWrap{
  position:fixed; left:0; right:0; bottom:0; height:12px; z-index:35; display:none;
  background: #0a1426; border-top:1px solid #1c2945;
  box-shadow:0 -8px 28px rgba(0,0,0,.35);
}
#timebarWrap.show{ display:block }
#pb{
  height:100%; width:0%;
  background:linear-gradient(90deg, hsl(130 85% 52%), hsl(106 90% 50%));
  transition:width .12s linear;
  box-shadow:0 0 26px rgba(32,201,151,.4) inset, 0 0 12px rgba(32,201,151,.25);
}

/* ==================== COOLDOWN 3–2–1 ==================== */
#cdNum{ will-change:transform,opacity; transition:transform .15s ease, opacity .15s ease }

/* ================ UTYLITY / MEDIA ================ */
@media (max-width:1200px){
  :root{ --grid-gap-x: 14px; --grid-gap-y: 14px }
  #stage{ inset:110px 0 230px }
  #stage .meta .name{ font-size:36px }
  #centerBox .title{ font-size:26px }
}
@media (max-width:760px){
  #hud{ inset:8px }
  .banner{ min-width:auto; width:96vw }
  #stage{ inset:96px 0 200px }
  #stage .card{ grid-template-columns:108px 1fr 56px }
  #stage .avatar.big{ width:108px; height:108px }
  #stage .meta .name{ font-size:28px }
  .centerCard{ grid-template-columns:72px 1fr }
  .centerCard .hostAv{ width:72px; height:72px }
}
